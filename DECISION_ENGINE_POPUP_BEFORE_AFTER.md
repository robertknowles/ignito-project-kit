# Decision Engine: Before & After Comparison

## ğŸ“Š Visual Comparison

### BEFORE: Inline Dropdown

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ  House (VIC) | Year: 2026 | Growth: High                  â•‘
â•‘                                     [Expand Full Details â†’]   â•‘
â•‘                                                                â•‘
â•‘ PROPERTY DETAILS              PURCHASE                        â•‘
â•‘ State: VIC | Yield: 6.5%      Price: $350k | Valuation: $378kâ•‘
â•‘ Rent: $471/wk                 LVR: 85%                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘              â–¶ Expand Decision Engine Analysis for 2026       â•‘
â•‘                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[When clicked, expands inline:]

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ  House (VIC) | Year: 2026 | Growth: High                  â•‘
â•‘                                     [Expand Full Details â†’]   â•‘
â•‘                                                                â•‘
â•‘ PROPERTY DETAILS              PURCHASE                        â•‘
â•‘ State: VIC | Yield: 6.5%      Price: $350k | Valuation: $378kâ•‘
â•‘ Rent: $471/wk                 LVR: 85%                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘              â–¼ Expand Decision Engine Analysis for 2026       â•‘
â•‘                                                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•‘
â•‘  â”‚   DEPOSIT    â”‚  â”‚ SERVICEABIL- â”‚  â”‚  BORROWING   â”‚       â•‘
â•‘  â”‚     TEST     â”‚  â”‚     ITY      â”‚  â”‚   CAPACITY   â”‚       â•‘
â•‘  â”‚              â”‚  â”‚     TEST     â”‚  â”‚     TEST     â”‚       â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•‘
â•‘                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Issues:**
- âŒ Clutters the timeline view
- âŒ Takes up vertical space
- âŒ Limited space for charts
- âŒ Center-bottom placement not intuitive
- âŒ Uses arrow icons that can be confusing

---

### AFTER: Popup Modal

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ğŸ  House (VIC) | Year: 2026 | Growth: High                  â•‘
â•‘                                     [Expand Full Details â†’]   â•‘
â•‘                                     Expand for decision analysis  â•‘
â•‘                                                                â•‘
â•‘ PROPERTY DETAILS              PURCHASE                        â•‘
â•‘ State: VIC | Yield: 6.5%      Price: $350k | Valuation: $378kâ•‘
â•‘ Rent: $471/wk                 LVR: 85%                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                    â†‘
                                    â”‚
                               Blue (primary)
                               Grey (secondary)
```

**Card stays clean, no expansion!**

[When grey text is clicked, opens modal:]

```
                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘ Decision Engine Analysis for Year 2026        [Ã—] â•‘
                    â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
                    â•‘                                                    â•‘
                    â•‘ This analysis shows how the property purchase     â•‘
                    â•‘ in 2026 passed the three critical affordability   â•‘
                    â•‘ tests: deposit availability, serviceability       â•‘
                    â•‘ requirements, and borrowing capacity limits.      â•‘
                    â•‘                                                    â•‘
                    â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
                    â•‘  â”‚  DEPOSIT   â”‚  â”‚SERVICEABIL-â”‚  â”‚ BORROWING  â”‚ â•‘
                    â•‘  â”‚    TEST    â”‚  â”‚    ITY     â”‚  â”‚  CAPACITY  â”‚ â•‘
                    â•‘  â”‚   FUNNEL   â”‚  â”‚    TEST    â”‚  â”‚    TEST    â”‚ â•‘
                    â•‘  â”‚            â”‚  â”‚   FUNNEL   â”‚  â”‚   FUNNEL   â”‚ â•‘
                    â•‘  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚ â•‘
                    â•‘  â”‚  [Chart]   â”‚  â”‚  [Chart]   â”‚  â”‚  [Chart]   â”‚ â•‘
                    â•‘  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚ â•‘
                    â•‘  â”‚            â”‚  â”‚            â”‚  â”‚            â”‚ â•‘
                    â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
                    â•‘                                                    â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Benefits:**
- âœ… Timeline stays clean
- âœ… More space for charts
- âœ… Clear visual hierarchy
- âœ… Better user focus
- âœ… Consistent with other modals

---

## ğŸ¨ Styling Comparison

| Element | Before | After |
|---------|--------|-------|
| **Trigger Location** | Center bottom of card | Top-right corner |
| **Trigger Style** | `text-sm text-gray-400` | `text-xs text-gray-500` |
| **Text Size** | 14px | 12px |
| **Icon** | â–¶/â–¼ arrow | None |
| **Display Method** | Inline expansion | Modal popup |
| **Content Width** | Limited to card width | Full 1152px (max-w-6xl) |
| **Spacing** | Cramped | Generous |

---

## ğŸ“ Layout Hierarchy

### Before:
```
Property Card
â”œâ”€â”€ Title Row (House info)
â”œâ”€â”€ Detail Rows (Property & Purchase)
â””â”€â”€ Decision Engine Toggle â† CENTERED, PROMINENT
    â””â”€â”€ Funnels (when expanded) â† INLINE
```

### After:
```
Property Card
â”œâ”€â”€ Title Row (House info)
â”‚   â””â”€â”€ Action Buttons (right side)
â”‚       â”œâ”€â”€ [Expand Full Details â†’] â† PRIMARY (blue, text-sm)
â”‚       â””â”€â”€ Expand for decision analysis â† SECONDARY (grey, text-xs)
â””â”€â”€ Detail Rows (Property & Purchase)

Decision Engine Modal (separate)
â”œâ”€â”€ Title: "Decision Engine Analysis for Year {year}"
â”œâ”€â”€ Description
â””â”€â”€ Three Funnels (side-by-side)
```

---

## ğŸ”„ User Flow Comparison

### Before:
```
1. User scrolls timeline
2. Sees "â–¶ Expand Decision Engine Analysis"
3. Clicks arrow
4. Card expands inline â–¼
5. Funnels appear below
6. Timeline gets longer
7. Other cards shift down
8. User must scroll more
```

### After:
```
1. User scrolls timeline
2. Sees grey "Expand for decision analysis" text
3. Clicks text
4. Modal opens (overlay)
5. Funnels appear in spacious layout
6. Timeline stays in place behind modal
7. User closes modal
8. Returns to same position
```

---

## ğŸ“± Responsive Behavior

### Before:
```
Desktop:  [Funnel 1] [Funnel 2] [Funnel 3] â† Cramped in card
Tablet:   [Funnel 1]                       â† Stacked
          [Funnel 2]
          [Funnel 3]
Mobile:   [Funnel 1]                       â† Stacked, very cramped
          [Funnel 2]
          [Funnel 3]
```

### After:
```
Desktop:  [Funnel 1] [Funnel 2] [Funnel 3] â† Spacious in modal
Tablet:   [Funnel 1] [Funnel 2]            â† Adaptive grid
          [Funnel 3]
Mobile:   [Funnel 1]                       â† Stacked, scrollable
          [Funnel 2]
          [Funnel 3]
```

---

## ğŸ’¡ Key Improvements

### Visual Hierarchy
```
BEFORE:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Property Details (medium emphasis)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Decision Engine (medium emphasis) â† Same level as details
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

AFTER:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Property Details (high emphasis)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  Actions:
  â€¢ Expand Full Details (PRIMARY)
  â€¢ decision analysis (secondary) â† Clear hierarchy
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### Space Utilization
```
BEFORE: Card width only (100%)
Card: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
      [Limited space for funnels]

AFTER: Modal uses max-w-6xl (1152px)
Modal: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
       [Plenty of space for three funnels side-by-side]
```

---

## ğŸ¯ Design Principles Applied

### 1. **Progressive Disclosure**
- Primary details visible by default
- Advanced analysis available on demand
- Doesn't clutter main interface

### 2. **Visual Hierarchy**
- Blue (primary action) > Grey (secondary action)
- Larger text > Smaller text
- Immediate info > Deep analysis

### 3. **Consistent Patterns**
- Matches other modals in the app
- Familiar interaction pattern
- Expected behavior

### 4. **Focus Management**
- Modal draws attention to analysis
- Dark backdrop isolates content
- Easy to close and return

---

## ğŸ“Š Side-by-Side Element Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        BEFORE           â”‚         AFTER           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚                         â”‚
â”‚  â–¶ Expand Decision      â”‚  [Expand Full Details â†’]â”‚
â”‚    Engine Analysis      â”‚  Expand for decision    â”‚
â”‚    for 2026             â”‚  analysis               â”‚
â”‚                         â”‚                         â”‚
â”‚  â€¢ Centered             â”‚  â€¢ Top-right aligned    â”‚
â”‚  â€¢ Light grey text      â”‚  â€¢ Grey secondary text  â”‚
â”‚  â€¢ Arrow icon           â”‚  â€¢ No icon              â”‚
â”‚  â€¢ text-sm              â”‚  â€¢ text-xs              â”‚
â”‚  â€¢ Inline expansion     â”‚  â€¢ Modal popup          â”‚
â”‚  â€¢ Takes up timeline    â”‚  â€¢ Overlay, no impact   â”‚
â”‚    space                â”‚    on timeline          â”‚
â”‚                         â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… Summary of Benefits

| Benefit | Impact |
|---------|--------|
| ğŸ§¹ **Cleaner UI** | Timeline is less cluttered |
| ğŸ“ **Better spacing** | Charts have room to breathe |
| ğŸ‘ï¸ **Visual hierarchy** | Clear primary vs secondary actions |
| ğŸ¯ **Better focus** | Modal isolates analysis content |
| ğŸ“± **More responsive** | Adapts better to screen sizes |
| ğŸ”„ **Consistent UX** | Matches other modal patterns |
| âš¡ **Performance** | No inline DOM manipulation |

---

## ğŸš€ Result

**Before**: Functional but cluttered inline expansion
**After**: Clean, professional modal-based workflow

The new implementation provides a better user experience while maintaining all the same functionality. The decision engine analysis is still easily accessible but doesn't interfere with the main timeline view.

